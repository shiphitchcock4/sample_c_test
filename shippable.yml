language: c

compiler: 
  - gcc
  - clang
matrix:
  #include:
   # - compiler: clang
  exclude:
    - compiler: clang
  allow_failures:
    - compiler: gcc

build:
  pre_ci:
    - echo 'true'

  pre_ci_boot:
    image_name: drydock/u12cpp
    image_tag: prod
    pull: false
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ./configure && make && make install
    - ./hello
    - if [ "$SHIPPABLE_COMPILER_VERSION" == "gcc" ]; then foobar; fi
  
  post_ci:
    - echo "true"    
